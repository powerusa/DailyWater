package com.dailywater.util

import java.util.Locale

/** In-app localization helper. Returns translated strings for the given language code. */
object L10n {

    data class LangOption(val code: String, val name: String)

    val supportedLanguages = listOf(
        LangOption("device", "ğŸ“± Device"),
        LangOption("en", "English"),
        LangOption("es", "EspaÃ±ol"),
        LangOption("zh", "ä¸­æ–‡"),
        LangOption("de", "Deutsch"),
        LangOption("pl", "Polski"),
        LangOption("pt", "PortuguÃªs")
    )

    fun t(key: String, lang: String): String {
        val effective = resolve(lang)
        return translations[effective]?.get(key) ?: translations["en"]?.get(key) ?: key
    }

    fun dayStreak(count: Int, lang: String): String {
        val fmt = t("day_streak_fmt", lang)
        return String.format(fmt, count)
    }

    fun resolve(lang: String): String {
        if (lang != "device") return lang
        val code = Locale.getDefault().language
        return if (translations.containsKey(code)) code else "en"
    }

    private val translations: Map<String, Map<String, String>> = mapOf(
        "en" to en, "es" to es, "zh" to zh, "de" to de, "pl" to pl, "pt" to pt
    )

    private val en = mapOf(
        "app_name" to "DailyWater",
        "goal_reached" to "Goal reached ğŸ‰",
        "set_your_daily_goal" to "Set Your Daily Goal",
        "set_goal_prompt" to "Tap the gear icon to set a daily water goal\nand start tracking.",
        "set_goal" to "Set Goal",
        "day_streak_fmt" to "%d-day streak!",
        "today" to "Today",
        "goal" to "Goal",
        "remaining" to "Remaining",
        "todays_timing" to "Today's Timing",
        "morning" to "Morning",
        "afternoon" to "Afternoon",
        "evening" to "Evening",
        "weekly_monthly_charts" to "ğŸ“Š Weekly & Monthly Charts",
        "quick_add" to "Quick Add",
        "custom_amount" to "Custom Amount",
        "undo" to "Undo",
        "reset" to "Reset",
        "reset_today" to "Reset Today?",
        "reset_today_msg" to "This will clear all intake for today.",
        "cancel" to "Cancel",
        "settings" to "Settings",
        "daily_goal" to "Daily Goal",
        "enter_goal" to "Enter goal",
        "unit" to "Unit",
        "bottle" to "\uD83C\uDF76 Bottle",
        "bottle_setup" to "Bottle Setup",
        "bottle_size_label" to "1 bottle = ? oz",
        "bottle_hint" to "Quick-add will show bottle fractions (Â¼, Â½, Â¾, 1).",
        "appearance" to "Appearance",
        "dark_mode" to "Dark Mode",
        "language" to "Language",
        "save" to "Save",
        "history" to "History",
        "keep_it_going" to "Keep it going!",
        "recent_days" to "Recent Days",
        "goal_met" to "Goal met",
        "done" to "Done",
        "trends" to "Trends",
        "seven_days" to "7 Days",
        "fourteen_days" to "14 Days",
        "thirty_days" to "30 Days",
        "average" to "Average",
        "goals_met" to "Goals Met",
        "streak" to "Streak",
        "daily_intake" to "Daily Intake",
        "goal_line" to "Goal line",
        "back" to "Back",
        "bottles" to "bottles",
        "goal_colon" to "Goal:"
    )

    private val es = mapOf(
        "app_name" to "DailyWater",
        "goal_reached" to "Â¡Meta alcanzada ğŸ‰",
        "set_your_daily_goal" to "Establece tu meta diaria",
        "set_goal_prompt" to "Toca el Ã­cono de engranaje para establecer una meta diaria de agua.",
        "set_goal" to "Establecer meta",
        "day_streak_fmt" to "Â¡Racha de %d dÃ­as!",
        "today" to "Hoy",
        "goal" to "Meta",
        "remaining" to "Restante",
        "todays_timing" to "Horario de hoy",
        "morning" to "MaÃ±ana",
        "afternoon" to "Tarde",
        "evening" to "Noche",
        "weekly_monthly_charts" to "ğŸ“Š GrÃ¡ficos semanales y mensuales",
        "quick_add" to "Agregar rÃ¡pido",
        "custom_amount" to "Cantidad personalizada",
        "undo" to "Deshacer",
        "reset" to "Reiniciar",
        "reset_today" to "Â¿Reiniciar hoy?",
        "reset_today_msg" to "Esto borrarÃ¡ toda la ingesta de hoy.",
        "cancel" to "Cancelar",
        "settings" to "Ajustes",
        "daily_goal" to "Meta diaria",
        "enter_goal" to "Ingresa la meta",
        "unit" to "Unidad",
        "bottle" to "\uD83C\uDF76 Botella",
        "bottle_setup" to "ConfiguraciÃ³n de botella",
        "bottle_size_label" to "1 botella = ? oz",
        "bottle_hint" to "Agregar rÃ¡pido mostrarÃ¡ fracciones de botella (Â¼, Â½, Â¾, 1).",
        "appearance" to "Apariencia",
        "dark_mode" to "Modo oscuro",
        "language" to "Idioma",
        "save" to "Guardar",
        "history" to "Historial",
        "keep_it_going" to "Â¡Sigue asÃ­!",
        "recent_days" to "DÃ­as recientes",
        "goal_met" to "Meta cumplida",
        "done" to "Listo",
        "trends" to "Tendencias",
        "seven_days" to "7 dÃ­as",
        "fourteen_days" to "14 dÃ­as",
        "thirty_days" to "30 dÃ­as",
        "average" to "Promedio",
        "goals_met" to "Metas cumplidas",
        "streak" to "Racha",
        "daily_intake" to "Ingesta diaria",
        "goal_line" to "LÃ­nea de meta",
        "back" to "AtrÃ¡s",
        "bottles" to "botellas",
        "goal_colon" to "Meta:"
    )

    private val zh = mapOf(
        "app_name" to "DailyWater",
        "goal_reached" to "ç›®æ ‡è¾¾æˆ ğŸ‰",
        "set_your_daily_goal" to "è®¾å®šæ¯æ—¥ç›®æ ‡",
        "set_goal_prompt" to "ç‚¹å‡»é½¿è½®å›¾æ ‡è®¾å®šæ¯æ—¥é¥®æ°´ç›®æ ‡å¹¶å¼€å§‹è®°å½•ã€‚",
        "set_goal" to "è®¾å®šç›®æ ‡",
        "day_streak_fmt" to "è¿ç»­%då¤©ï¼",
        "today" to "ä»Šæ—¥",
        "goal" to "ç›®æ ‡",
        "remaining" to "å‰©ä½™",
        "todays_timing" to "ä»Šæ—¥æ—¶æ®µ",
        "morning" to "æ—©æ™¨",
        "afternoon" to "ä¸‹åˆ",
        "evening" to "æ™šä¸Š",
        "weekly_monthly_charts" to "ğŸ“Š æ¯å‘¨å’Œæ¯æœˆå›¾è¡¨",
        "quick_add" to "å¿«é€Ÿæ·»åŠ ",
        "custom_amount" to "è‡ªå®šä¹‰é‡",
        "undo" to "æ’¤é”€",
        "reset" to "é‡ç½®",
        "reset_today" to "é‡ç½®ä»Šå¤©ï¼Ÿ",
        "reset_today_msg" to "è¿™å°†æ¸…é™¤ä»Šå¤©çš„æ‰€æœ‰æ‘„å…¥è®°å½•ã€‚",
        "cancel" to "å–æ¶ˆ",
        "settings" to "è®¾ç½®",
        "daily_goal" to "æ¯æ—¥ç›®æ ‡",
        "enter_goal" to "è¾“å…¥ç›®æ ‡",
        "unit" to "å•ä½",
        "bottle" to "\uD83C\uDF76 æ°´ç“¶",
        "bottle_setup" to "æ°´ç“¶è®¾ç½®",
        "bottle_size_label" to "1ç“¶ = ? oz",
        "bottle_hint" to "å¿«é€Ÿæ·»åŠ å°†æ˜¾ç¤ºæ°´ç“¶åˆ†æ•°ï¼ˆÂ¼ã€Â½ã€Â¾ã€1ï¼‰ã€‚",
        "appearance" to "å¤–è§‚",
        "dark_mode" to "æ·±è‰²æ¨¡å¼",
        "language" to "è¯­è¨€",
        "save" to "ä¿å­˜",
        "history" to "å†å²",
        "keep_it_going" to "ç»§ç»­ä¿æŒï¼",
        "recent_days" to "æœ€è¿‘å‡ å¤©",
        "goal_met" to "è¾¾æ ‡",
        "done" to "å®Œæˆ",
        "trends" to "è¶‹åŠ¿",
        "seven_days" to "7å¤©",
        "fourteen_days" to "14å¤©",
        "thirty_days" to "30å¤©",
        "average" to "å¹³å‡",
        "goals_met" to "è¾¾æ ‡å¤©æ•°",
        "streak" to "è¿ç»­",
        "daily_intake" to "æ¯æ—¥æ‘„å…¥",
        "goal_line" to "ç›®æ ‡çº¿",
        "back" to "è¿”å›",
        "bottles" to "ç“¶",
        "goal_colon" to "ç›®æ ‡:"
    )

    private val de = mapOf(
        "app_name" to "DailyWater",
        "goal_reached" to "Ziel erreicht ğŸ‰",
        "set_your_daily_goal" to "Tagesziel festlegen",
        "set_goal_prompt" to "Tippe auf das Zahnrad, um ein tÃ¤gliches Wasserziel festzulegen.",
        "set_goal" to "Ziel festlegen",
        "day_streak_fmt" to "%d-Tage-Serie!",
        "today" to "Heute",
        "goal" to "Ziel",
        "remaining" to "Verbleibend",
        "todays_timing" to "Heutiges Timing",
        "morning" to "Morgen",
        "afternoon" to "Nachmittag",
        "evening" to "Abend",
        "weekly_monthly_charts" to "ğŸ“Š Wochen- & Monatsdiagramme",
        "quick_add" to "Schnell hinzufÃ¼gen",
        "custom_amount" to "Eigene Menge",
        "undo" to "RÃ¼ckgÃ¤ngig",
        "reset" to "ZurÃ¼cksetzen",
        "reset_today" to "Heute zurÃ¼cksetzen?",
        "reset_today_msg" to "Alle heutigen EintrÃ¤ge werden gelÃ¶scht.",
        "cancel" to "Abbrechen",
        "settings" to "Einstellungen",
        "daily_goal" to "Tagesziel",
        "enter_goal" to "Ziel eingeben",
        "unit" to "Einheit",
        "bottle" to "\uD83C\uDF76 Flasche",
        "bottle_setup" to "Flascheneinstellung",
        "bottle_size_label" to "1 Flasche = ? oz",
        "bottle_hint" to "Schnell hinzufÃ¼gen zeigt Flaschenbruchteile (Â¼, Â½, Â¾, 1).",
        "appearance" to "Darstellung",
        "dark_mode" to "Dunkelmodus",
        "language" to "Sprache",
        "save" to "Speichern",
        "history" to "Verlauf",
        "keep_it_going" to "Weiter so!",
        "recent_days" to "Letzte Tage",
        "goal_met" to "Ziel erreicht",
        "done" to "Fertig",
        "trends" to "Trends",
        "seven_days" to "7 Tage",
        "fourteen_days" to "14 Tage",
        "thirty_days" to "30 Tage",
        "average" to "Durchschnitt",
        "goals_met" to "Ziele erreicht",
        "streak" to "Serie",
        "daily_intake" to "TÃ¤gliche Aufnahme",
        "goal_line" to "Ziellinie",
        "back" to "ZurÃ¼ck",
        "bottles" to "Flaschen",
        "goal_colon" to "Ziel:"
    )

    private val pl = mapOf(
        "app_name" to "DailyWater",
        "goal_reached" to "Cel osiÄ…gniÄ™ty ğŸ‰",
        "set_your_daily_goal" to "Ustaw dzienny cel",
        "set_goal_prompt" to "Stuknij ikonÄ™ koÅ‚a zÄ™batego, aby ustawiÄ‡ dzienny cel nawodnienia.",
        "set_goal" to "Ustaw cel",
        "day_streak_fmt" to "Seria %d dni!",
        "today" to "DziÅ›",
        "goal" to "Cel",
        "remaining" to "PozostaÅ‚o",
        "todays_timing" to "Dzisiejszy rozkÅ‚ad",
        "morning" to "Rano",
        "afternoon" to "PopoÅ‚udnie",
        "evening" to "WieczÃ³r",
        "weekly_monthly_charts" to "ğŸ“Š Wykresy tygodniowe i miesiÄ™czne",
        "quick_add" to "Szybkie dodawanie",
        "custom_amount" to "WÅ‚asna iloÅ›Ä‡",
        "undo" to "Cofnij",
        "reset" to "Resetuj",
        "reset_today" to "ZresetowaÄ‡ dzisiaj?",
        "reset_today_msg" to "To usunie caÅ‚e dzisiejsze spoÅ¼ycie.",
        "cancel" to "Anuluj",
        "settings" to "Ustawienia",
        "daily_goal" to "Dzienny cel",
        "enter_goal" to "Wpisz cel",
        "unit" to "Jednostka",
        "bottle" to "\uD83C\uDF76 Butelka",
        "bottle_setup" to "Ustawienia butelki",
        "bottle_size_label" to "1 butelka = ? oz",
        "bottle_hint" to "Szybkie dodawanie pokaÅ¼e uÅ‚amki butelki (Â¼, Â½, Â¾, 1).",
        "appearance" to "WyglÄ…d",
        "dark_mode" to "Tryb ciemny",
        "language" to "JÄ™zyk",
        "save" to "Zapisz",
        "history" to "Historia",
        "keep_it_going" to "Tak trzymaj!",
        "recent_days" to "Ostatnie dni",
        "goal_met" to "Cel osiÄ…gniÄ™ty",
        "done" to "Gotowe",
        "trends" to "Trendy",
        "seven_days" to "7 dni",
        "fourteen_days" to "14 dni",
        "thirty_days" to "30 dni",
        "average" to "Åšrednia",
        "goals_met" to "OsiÄ…gniÄ™te cele",
        "streak" to "Seria",
        "daily_intake" to "Dzienne spoÅ¼ycie",
        "goal_line" to "Linia celu",
        "back" to "Wstecz",
        "bottles" to "butelki",
        "goal_colon" to "Cel:"
    )

    private val pt = mapOf(
        "app_name" to "DailyWater",
        "goal_reached" to "Meta atingida ğŸ‰",
        "set_your_daily_goal" to "Defina sua meta diÃ¡ria",
        "set_goal_prompt" to "Toque no Ã­cone de engrenagem para definir uma meta diÃ¡ria de Ã¡gua.",
        "set_goal" to "Definir meta",
        "day_streak_fmt" to "SequÃªncia de %d dias!",
        "today" to "Hoje",
        "goal" to "Meta",
        "remaining" to "Restante",
        "todays_timing" to "HorÃ¡rio de hoje",
        "morning" to "ManhÃ£",
        "afternoon" to "Tarde",
        "evening" to "Noite",
        "weekly_monthly_charts" to "ğŸ“Š GrÃ¡ficos semanais e mensais",
        "quick_add" to "Adicionar rÃ¡pido",
        "custom_amount" to "Quantidade personalizada",
        "undo" to "Desfazer",
        "reset" to "Redefinir",
        "reset_today" to "Redefinir hoje?",
        "reset_today_msg" to "Isso limparÃ¡ toda a ingestÃ£o de hoje.",
        "cancel" to "Cancelar",
        "settings" to "ConfiguraÃ§Ãµes",
        "daily_goal" to "Meta diÃ¡ria",
        "enter_goal" to "Insira a meta",
        "unit" to "Unidade",
        "bottle" to "\uD83C\uDF76 Garrafa",
        "bottle_setup" to "ConfiguraÃ§Ã£o da garrafa",
        "bottle_size_label" to "1 garrafa = ? oz",
        "bottle_hint" to "Adicionar rÃ¡pido mostrarÃ¡ fraÃ§Ãµes da garrafa (Â¼, Â½, Â¾, 1).",
        "appearance" to "AparÃªncia",
        "dark_mode" to "Modo escuro",
        "language" to "Idioma",
        "save" to "Salvar",
        "history" to "HistÃ³rico",
        "keep_it_going" to "Continue assim!",
        "recent_days" to "Dias recentes",
        "goal_met" to "Meta atingida",
        "done" to "ConcluÃ­do",
        "trends" to "TendÃªncias",
        "seven_days" to "7 dias",
        "fourteen_days" to "14 dias",
        "thirty_days" to "30 dias",
        "average" to "MÃ©dia",
        "goals_met" to "Metas atingidas",
        "streak" to "SequÃªncia",
        "daily_intake" to "IngestÃ£o diÃ¡ria",
        "goal_line" to "Linha da meta",
        "back" to "Voltar",
        "bottles" to "garrafas",
        "goal_colon" to "Meta:"
    )
}
